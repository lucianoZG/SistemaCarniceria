<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <title>Catálogo de Productos</title>

        <!-- Bootstrap -->
        <link rel="stylesheet" 
              href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

        <style>

            body {
                background-color: #fcf8f7;
            }

            /* Cartel de advertencia */
            .advertencia {
                border-left: 5px solid #c00;
                background: #ffe5e5;
                padding: 15px;
                border-radius: 10px;
                font-size: 1.05rem;
            }

            /* Tarjetas de producto más grandes */
            .producto-card {
                border: none;
                border-radius: 14px;
                padding: 18px;
                background: #ffffff;
                box-shadow: 0 4px 12px rgba(0,0,0,0.10);
                transition: transform .2s ease, box-shadow .2s ease;
                height: 100%;
            }

            .producto-card:hover {
                transform: translateY(-4px);
                box-shadow: 0 6px 16px rgba(0,0,0,0.15);
            }

            .producto-card img {
                border-radius: 12px;
                width: 100%;
                height: 300px;              /* MÁS GRANDE */
                object-fit: cover;
                margin-bottom: 10px;
            }

            .producto-card h5 {
                font-size: 1.3rem;
                font-weight: 700;
                color: #b30000;
            }

            .producto-card p {
                margin: 3px 0;
                font-size: .95rem;
            }

            /* Paginación */
            .pagination .page-item .page-link {
                color: #dc3545;
                border: 1px solid #dc3545;
                border-radius: 8px;
                font-weight: 500;
            }

            .pagination .page-item:hover .page-link {
                background-color: #dc3545;
                color: white;
            }

            .pagination .page-item.active .page-link {
                background-color: #dc3545 !important;
                color: white !important;
                border-color: #dc3545 !important;
            }

        </style>
    </head>

    <body class="d-flex flex-column min-vh-100">


        <div class="container mt-4">

            <!-- ADVERTENCIA -->
            <div class="advertencia mb-4 text-center">
                <strong>⚠ Advertencia:</strong> Para poder comprar productos debe
                <a th:href="@{/login}" class="fw-bold text-danger">iniciar sesión</a>
                o
                <a th:href="@{/registrarCliente}" class="fw-bold text-danger">registrarse</a>.
            </div>

            <!-- TÍTULO -->
            <h2 class="mb-3 text-center fw-bold">Catálogo de Productos</h2>
            <p class="text-muted text-center mb-4">
                Visualiza todos los productos disponibles en nuestra tienda
            </p>

            <!-- BUSCADOR -->
            <form method="get" class="mb-4 d-flex justify-content-center"
                  th:action="@{/cliente/catalogo}">
                <input type="text" name="busqueda" 
                       class="form-control w-50 me-2"
                       placeholder="Buscar producto..."
                       th:value="${busqueda}">
                <button class="btn btn-outline-danger">Buscar</button>
            </form>

            <!-- PRODUCTOS -->
            <div class="row g-4">
                <div class="col-md-6 col-lg-4"
                     th:each="prod : ${productos}">
                    <div class="producto-card">
                        <img th:src="${prod.imagen}" alt="Producto">

                        <h5 th:text="${prod.descripcion}"></h5>

                        <p class="text-danger fw-bold"
                           th:text="'$ ' + ${prod.precioUnitario}"></p>

                        <p class="text-muted"
                           th:text="'Stock disponible: ' + ${prod.stock}"></p>
                    </div>
                </div>
            </div>

            <!-- PAGINACIÓN -->
<!--            <div class="d-flex justify-content-center mt-4"
                 th:if="${totalPages > 1}">
                <ul class="pagination">

                     Anterior 
                    <li class="page-item"
                        th:classappend="${currentPage == 0} ? 'disabled'">
                        <a class="page-link"
                           th:href="@{/catalogo(page=${currentPage - 1}, busqueda=${busqueda})}">
                            &laquo; Anterior
                        </a>
                    </li>

                     Números 
                    <li class="page-item"
                        th:each="i : ${#numbers.sequence(0, totalPages - 1)}"
                        th:classappend="${i == currentPage} ? 'active'">
                        <a class="page-link"
                           th:text="${i + 1}"
                           th:href="@{/catalogo(page=${i}, busqueda=${busqueda})}">
                        </a>
                    </li>

                     Siguiente 
                    <li class="page-item"
                        th:classappend="${currentPage == totalPages - 1} ? 'disabled'">
                        <a class="page-link"
                           th:href="@{/catalogo(page=${currentPage + 1}, busqueda=${busqueda})}">
                            Siguiente &raquo;
                        </a>
                    </li>
                </ul>
            </div>-->

        </div>

        <footer class="mt-auto">
            <div th:replace="fragments/footer :: footer"></div>
        </footer>

    </body>
</html>
